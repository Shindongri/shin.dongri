---
title: 「Hands on! PWA + Azure workshop」 리뷰
date: "2019-12-21T00:00:00.000Z"
---

<!-- more -->

*본 글은 2019년 12월 21일 한국 마이크로 소프트에서 열린 「Hands on! PWA + Azure workshop workshop」내용을 정리하여 재구성한 내용 입니다.

## Contents of Tables

- PWA
- Github Actions
***

## PWA


##### - PWA 란?

![](https://miro.medium.com/max/3200/0*zMqsSFxHOUdMcCMW)
PWA 는 Progressive Web App 의 약자로서 특정한 기술을 지칭하는 말 보다 Web Application 을 구현하는 방법이라고 볼 수 있다.

<iframe width="560" height="315" src="https://www.youtube.com/embed/2KhRmFHLuhE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

##### - PWA 를 이루는 키워드

[F.I.R.E](https://developers.google.com/web/fundamentals#delightful-web-experiences-are)

- Fast
- Integrated
- Reliable
- Engaging

위의 네 가지 키워드는 PWA 특징을 다소 '마케팅 용'으로 나타내는 키워드로,
일반적으로 개발자들이 떠올리는 PWA 의 전통적인 기술은 아래 두 가지일 것이다.

1. Service Worker
2. Web App Manifest

*Service Worker* 는 말 그대로 'Worker'로서 백그라운드에서 동작한다. 특정 도메인을 기준으로 동작하고 
다양한 사용처가 있지만 *Offline 지원* 이 대표적이다.

*Web App Manifest*

***

## Github Actions



##### - Github Actions 란 ?
![](https://github.blog/wp-content/uploads/2019/08/DL-V2-LinkedIn_FB.png?w=1200)

GitHub Actions 는 GitHub 저장소에서 직접 소프트웨어 개발 사이클 워크플로우(SDLC)를 생성할 수 있게끔 만들어주는 도구이다.

그 중심은 역 CI(Continuous Integeration), CD(Continuous Deployment) 구성이다.

Travis CI, AWS Code Pipeline 등의 별도의 CI/CD 도구가 없어도  

GitHub 자체적으로 소스의 형상 관리부터 빌드 & 배포 시나리오를 구성할 수 있다는 장점이 있다.

##### - 

본 글에서는 앞서 만든 PWA Web Application 을 Build, Test 를 거쳐 Azure 의 Cloud Storage 에 배포까지의 과정을
Github Actions 를 활용해볼 예정이다.

***

###### Step 1

*GitHub Actions Workflow 파일 생성*

경로: `/.github/workflows` 하위

파일명: `main.yaml`

```
name: <WORKFLOW_NAME>
on: <EVENT>
jobs:
  <JOB_NAME>:
    runs-on: <RUNNER>
    steps:
    - name: <ACTION_NAME>
      uses: <ACTION>
```


***

###### Step 2

*GitHub Actions Workflow 파일 작성*

workflow 파일을 아래와 같이 수정한다.

```
name: Publish Static Web App to Azure Blob Storage

on: push

jobs:
  build_and_publish:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout the repo
      uses: actions/checkout@v1
```


***

###### Step 3

*Azure Login*

###### Step 3-1

Azure Login 자격 증명

```
az ad sp create-for-rbac \
  -n <SERVICE_PRINCIPAL_NAME> \
  --sdk-auth
```

이 명령어 실행 결과로 만들어지는 JSON 객체 값을 시크릿 변수 *AZURE_CREDENTIALS*에 할당한다.

![](/static/12-22-step3-1.png)

###### Step 3-2

```
- name: Login to Azure
      uses: Azure/login@v1
      with:
        creds: ${{ secrets.AZURE_CREDENTIALS }}
```

##### Step 4

```
    - name: Install npm packages
      shell: bash
      run: |
        npm install

    - name: Build app
      shell: bash
      run: |
        npm run build

    - name: Test app
      shell: bash
      run: |
        npm run test
```
